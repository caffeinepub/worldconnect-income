{
  "kind": "build_request",
  "title": "Implement 1% withdrawal limit",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-21",
      "text": "Add a 1% withdrawal limit validation in the backend withdrawal request creation logic in backend/main.mo that calculates the maximum allowed withdrawal amount as 1% of the user's current balance and rejects withdrawal requests that exceed this limit",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-withdrawal-limit"
        ],
        "quotes": [
          "Withdrawal limit 1%"
        ]
      },
      "acceptanceCriteria": [
        "Withdrawal requests exceeding 1% of user's balance are rejected",
        "Error message clearly indicates the maximum withdrawal amount allowed",
        "The 1% calculation is performed using the user's current balance at the time of withdrawal request"
      ]
    },
    {
      "id": "REQ-22",
      "text": "Update the withdrawal form in frontend/src/pages/WithdrawalPage.tsx to display the maximum allowed withdrawal amount (1% of balance) and add client-side validation to prevent users from submitting amounts exceeding this limit",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-withdrawal-limit"
        ],
        "quotes": [
          "Withdrawal limit 1%"
        ]
      },
      "acceptanceCriteria": [
        "Maximum withdrawal amount (1% of balance) is clearly displayed on the withdrawal page",
        "Form validation prevents submission of amounts exceeding the 1% limit",
        "Error message shows the exact maximum amount allowed when user enters too much"
      ]
    }
  ],
  "constraints": [
    "Do not change the backend single-actor architecture",
    "Preserve existing withdrawal request data structure and status workflow"
  ],
  "nonGoals": [
    "Changing the withdrawal approval workflow",
    "Modifying deposit functionality",
    "Altering the level income system"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}